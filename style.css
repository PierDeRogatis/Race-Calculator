:root {
    --color-bg-primary: #111827;
    --color-bg-secondary: #1f2937;
    --color-border: #374151;
    --color-text-primary: #f9fafb;
    --color-text-secondary: #d1d5db;
    --color-accent: #38bdf8;
}

body.light-mode {
    --color-bg-primary: #f9fafb;
    --color-bg-secondary: #f3f4f6;
    --color-border: #d1d5db;
    --color-text-primary: #111827;
    --color-text-secondary: #374151;
    --color-accent: #0ea5e9;
}

/* Update a few key elements to use these variables */
body {
    font-family: 'Inter', sans-serif;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
}

main {
    background-color: var(--color-bg-secondary);
    border-color: var(--color-border);
}
.fade-in { animation: fadeIn 0.5s ease-in-out; }
.fade-out { animation: fadeOut 0.5s ease-in-out forwards; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-10px); } }
.spinner {
    border: 4px solid rgba(255, 255, 255, 0.1);
    width: 36px; height: 36px;
    border-radius: 50%;
    border-left-color: var(--color-accent);
    animation: spin 1s ease infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
#ai-insights-content h2 { font-size: 1.25rem; font-weight: 600; margin-top: 1rem; margin-bottom: 0.5rem; color: var(--color-text-primary); }
#ai-insights-content ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1rem; }
#ai-insights-content p { margin-bottom: 0.5rem; color: var(--color-text-secondary); }
input[type="range"] { -webkit-appearance: none; appearance: none; width: 100%; height: 4px; background: var(--color-border); border-radius: 5px; outline: none; opacity: 0.7; transition: opacity .2s; }
input[type="range"]:hover { opacity: 1; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: var(--color-accent); cursor: pointer; border-radius: 50%; border: 2px solid var(--color-bg-primary); }
input[type="range"]::-moz-range-thumb { width: 18px; height: 18px; background: var(--color-accent); cursor: pointer; border-radius: 50%; border: 2px solid var(--color-bg-primary); }
.chart-container { position: relative; height: 250px; width: 100%; }
/* Toggle Switch Styles */
.toggle-checkbox:checked { right: 0; border-color: var(--color-accent); }
.toggle-checkbox:checked + .toggle-label { background-color: var(--color-accent); }
/* Custom date picker icon color */
input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(0.8) sepia(1) saturate(5) hue-rotate(180deg);
}

/* Override Tailwind classes with CSS variables for theming */
.bg-gray-800\/50, .bg-gray-800 {
    background-color: var(--color-bg-secondary) !important;
}

.bg-gray-900, .bg-gray-900\/50, .bg-gray-900\/20 {
    background-color: var(--color-bg-primary) !important;
}

.border-gray-700, .border-gray-600 {
    border-color: var(--color-border) !important;
}

.text-gray-50, .text-gray-100 {
    color: var(--color-text-primary) !important;
}

.text-gray-200, .text-gray-300, .text-gray-400 {
    color: var(--color-text-secondary) !important;
}

.text-sky-400, .text-sky-500 {
    color: var(--color-accent) !important;
}

.bg-sky-500, .focus\:ring-sky-500, .focus\:border-sky-500 {
    background-color: var(--color-accent) !important;
    border-color: var(--color-accent) !important;
}

.hover\:bg-sky-600:hover {
    background-color: var(--color-accent) !important;
    opacity: 0.9;
}

/* Input and form elements */
input, select, textarea {
    background-color: var(--color-bg-primary) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text-primary) !important;
}

input:focus, select:focus, textarea:focus {
    border-color: var(--color-accent) !important;
    box-shadow: 0 0 0 1px var(--color-accent) !important;
}

/* Buttons */
.bg-gray-600, .bg-gray-700 {
    background-color: var(--color-bg-secondary) !important;
}

.hover\:bg-gray-700:hover, .hover\:bg-gray-600:hover {
    background-color: var(--color-border) !important;
}

/* Tables */
thead {
    border-color: var(--color-border) !important;
}

tbody {
    background-color: var(--color-bg-secondary) !important;
}

.divide-y > * {
    border-color: var(--color-border) !important;
}

/* Additional comprehensive overrides */
.text-gray-500 {
    color: var(--color-text-secondary) !important;
}

.bg-gray-900\/50 {
    background-color: var(--color-bg-secondary) !important;
}

.border-gray-800 {
    border-color: var(--color-border) !important;
}

.text-sky-300:hover {
    color: var(--color-accent) !important;
    opacity: 0.8;
}

.hover\:text-sky-300:hover {
    color: var(--color-accent) !important;
    opacity: 0.8;
}

.text-red-400, .text-red-300 {
    color: #ef4444 !important;
}

.hover\:text-red-300:hover {
    color: #f87171 !important;
}

.text-green-400, .text-green-300 {
    color: #22c55e !important;
}

.hover\:text-green-300:hover {
    color: #4ade80 !important;
}

/* Placeholder text */
.placeholder-gray-500::placeholder {
    color: var(--color-text-secondary) !important;
    opacity: 0.7;
}

/* Focus ring colors */
.focus\:ring-4 {
    --tw-ring-color: var(--color-accent) !important;
}

/* Shadow colors */
.shadow-sky-500\/20 {
    --tw-shadow-color: var(--color-accent) !important;
    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -2px var(--tw-shadow-color) !important;
}

/* Gradient backgrounds */
.bg-gradient-to-r {
    background: linear-gradient(to right, var(--color-accent), var(--color-accent)) !important;
}

/* Modal and overlay backgrounds */
.bg-black {
    background-color: rgba(0, 0, 0, 0.75) !important;
}

/* Ensure all text elements use proper colors */
h1, h2, h3, h4, h5, h6 {
    color: var(--color-text-primary) !important;
}

p, span, div {
    color: inherit;
}

/* Button hover states */
.hover\:bg-purple-700:hover {
    background-color: #7c3aed !important;
}

.bg-purple-600 {
    background-color: #9333ea !important;
}

/* Specific element overrides */
#login-view {
    background-color: var(--color-bg-primary) !important;
    color: var(--color-text-primary) !important;
}

#app-container {
    background-color: var(--color-bg-primary) !important;
    color: var(--color-text-primary) !important;
}

header {
    background-color: var(--color-bg-primary) !important;
    color: var(--color-text-primary) !important;
}

/* Chart container */
.chart-container {
    background-color: var(--color-bg-secondary) !important;
    border-color: var(--color-border) !important;
}

/* Results table */
#results table {
    background-color: var(--color-bg-secondary) !important;
}

#results th {
    color: var(--color-text-secondary) !important;
    border-color: var(--color-border) !important;
}

#results td {
    color: var(--color-text-primary) !important;
    border-color: var(--color-border) !important;
}

/* Modals */
.fixed.inset-0 > div {
    background-color: var(--color-bg-secondary) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text-primary) !important;
}

/* Override any remaining gray backgrounds */
[class*="bg-gray"] {
    background-color: var(--color-bg-secondary) !important;
}

[class*="border-gray"] {
    border-color: var(--color-border) !important;
}

[class*="text-gray"] {
    color: var(--color-text-secondary) !important;
}
